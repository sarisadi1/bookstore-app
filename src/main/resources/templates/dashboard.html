<html xmmlns:th="http:///www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="layouts/defaultTemplate" xmlns:xmmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="http://www.w3.org/1999/xhtml">
<!-- Dash board page content -->
<div layout:fragment="content">
	<div th:if="${sessionInfo != null && dashboard != null}">
	<div class="container body-content">		
		<h2>
			Dashboard for user: <span th:text="${sessionInfo.getUserName()}"></span>
		</h2>

		<br />

		<!--Pofit generated and owned books -->
		<!-- <span th:text="${dashboard.profit}"></span> -->

		<div class="panel panel-primary">
			<div class="panel-heading ">Total Profit</div>
			<div class="panel-body bg-cell">
				<span th:text="${dashboard.profit}"></span>
				<span> $</span>
			</div>
		</div>

		<!-- Books listed by user-->
		<div class="panel panel-primary">
			<div class="panel-heading ">Your Books</div>
			<div class="panel-body bg-cell">
				<table style="width: 50%;">
					<thead th:if="${not dashboard.booksOwned.empty}">
						<tr>
							<th style="text-align: center;">Book Id</th>
							<th style="text-align: center;">Book Name</th>
							<th style="text-align: center;">Author</th>
							<th style="text-align: center;">Price</th>
							<th style="text-align: center;">Qantity</th>
						</tr>
					</thead>
					<tbody>
						<tr th:if="${dashboard.booksOwned.empty}">
							<td style="text-align: center;" colspan="4">No Books Listed</td>
						</tr>
						<tr th:each="book : ${dashboard.booksOwned}">
							<td style="text-align: center;">
								<h5 th:text="${book.bookId}">000001</h5>
							</td>
							<td style="text-align: center;">
								<h5 th:text="${book.name}">Book 1</h5>
							</td>
							<td style="text-align: center;">
								<h5 th:text="${book.author}">Author 1</h5>
							</td>
							<td style="text-align: center;">
								<h5 th:text="${book.price}">1.00</h5>
							</td>
							<td style="text-align: center;">
								<h5 th:text="${book.quantity}">1</h5>
							</td>
						</tr>
					</tbody>

				</table>
				<br/>
				<div class="container-fluid">
					<!-- Nav disguised as button to go to page.-->
					<a class="btn btn-info navbar-right margin-lg" th:href="@{/books/mybooks}">View All</a>
				</div>
			</div>
		</div>

	</div> <!-- container-fluid-->
	</div>
</div>

</html>